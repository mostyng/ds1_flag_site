<!DOCTYPE html>
<html>
	<head>
		<title>DS1 Civic Flag Project</title>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	    <meta name="description" content="Demo project with jQuery">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="styles.css">
		<script src="http://code.jquery.com/jquery-latest.min.js"></script>

		<style type="text/css"></style>
	</head>
	<body>

		<!-- For the Funk -->
<!-- 		<svg height="1"
		xmlns="http://www.w3.org/2000/svg">
		  <filter id="displacementFilter">
		    <feTurbulence type="turbulence"
		                  numOctaves="2" result="turbulence">
		    <animate attributeType="XML" attributeName="baseFrequency" from=".00001" to=".003"
		        dur="10s" repeatCount="indefinite"/>
		    </feTurbulence>
		    <feDisplacementMap in2="turbulence" in="SourceGraphic"
		        scale="40" xChannelSelector="R" yChannelSelector="G"/>
		  </filter>
		</svg>

			<div class="landing" style="filter: url(#displacementFilter)">
				There are four unused flagpoles on the Providence River, located outside RISD’s Design Center. First-year students in RISD Graphic Design, who take courses that look out onto the public space, have come up with proposals for flags — symbols meant to galvanize the public in some aspect of its shared experience.

				The flags symbolize a range of the following: community, divergent or shared histories, civic pride, change/growth, hope (the state motto) or specific elements from the area or state. These designs are here to stir up a conversation with the City and to speak to the public in lieu of (and perhaps in advance of) printed flags. 
			</div> -->

	<div class="wrapper">

		<div class="flagSmall">

			<div class="bgAnimation">
				<div class="wavetext"></div>
			</div>
			<div id="map"></div>
			<div id="pano"></div>

			<div class="summary">
				<p>
					There are four unused flagpoles on the Providence River, located outside RISD’s Design Center. First-year students in RISD Graphic Design, who take courses that look out onto the public space, have come up with proposals for flags — symbols meant to galvanize the public in some aspect of its shared experience. The flags symbolize a range of the following: community, divergent or shared histories, civic pride, change/growth, hope (the state motto) or specific elements from the area or state. These designs are here to stir up a conversation with the City and to speak to the public in lieu of (and perhaps in advance of) printed flags. 
				</p>
			</div>
			<div class="close"></div>
		</div>
		
	</div>

	<div class="uberButton"></div>

<!-- 	Original Config:-->
<!-- 	<div class="flagContain landing">
		<div class="bgAnimation">
			<div class="wavetext"></div>
		</div>
	</div>

	<div class="flagContain location">
		<div class="bgAnimation">
		<div id="map"></div>
		<div id="pano"></div>
	</div>-->



<!--  	Wave Flag Text -->
	<script>
		var text = "CIVIC FLAG PROJECT";

		for(var i in text) { 
		  if(text[i] === " ") {
		    $(".wavetext").append( $("<span>").html("&nbsp;") ); 
		  } else {  
		    $(".wavetext").append( $("<span>").text(text[i]) ); 
		  }
		}
	</script>

	<script src="scripts.js"></script>

<!-- 	Google Maps Streetview -->
	<script>
		var map;
		var panorama;
		var panoramaService;
		var streetView;
		// var center = new google.maps.LatLng(41.82619254110408,-71.40912990564347);

		function initialize() {
			var fenway = {lat: 41.82619254110408, lng: -71.40912990564347};

		    map = new google.maps.Map(
		    document.getElementById('map'), {
		        zoom: 5,
		        // center: center,
		        mapTypeId: google.maps.MapTypeId.ROADMAP
		    });

		    panoramaService = new google.maps.StreetViewService();

		    var panoramaOptions = {
		    	position: fenway,
		        disableDefaultUI: true,
		        pov: {
		          heading: 274,
		          pitch: 30
		        }
		    };

		    panorama = new google.maps.StreetViewPanorama(document.getElementById('pano'), panoramaOptions);

		    map.setStreetView(panorama);
		    
		    streetView = map.getStreetView();
		    runPanoramaService();
		}

		function runPanoramaService() {
		    panoramaService.getPanoramaByLocation(center,
		    100,

		    function (streetViewPanoramaData, streetViewStatus) {
		        if (streetViewStatus == "OK") {
		        
		            streetView.setPosition(streetViewPanoramaData.location.latLng);
		            streetView.setVisible(true);
		        }
		    });
		}

		initialize();
	</script>

<!-- 	Google Maps API Key -->
	<script async defer
	    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCCud-0bNEwg_YnD4C-UUzBEXX7C9qHGNQ&callback=initialize">
	</script>

	</body>
</html>